var Bt=Object.defineProperty;var Vt=(t,e,r)=>e in t?Bt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Ne=(t,e,r)=>Vt(t,typeof e!="symbol"?e+"":e,r);import{r as l,T as Q,M as Fe,a as me,j as s,b as zt,N as Ht,G as $t,S as Kt,L as ce,c as Wt,d as Ut,e as K,f as Zt,P as ke,g as Jt,C as ve,h as Ge,i as qe,k as Gt,l as Ye,m as Xe,n as Qe,R as qt,o as X,p as et,I as tt,q as Yt,s as Oe,t as Xt,u as Qt}from"./styles-Cn-bjl8v.js";const er=t=>l.createElement("svg",{width:40,height:40,viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},l.createElement("path",{d:"M20 0C27.74 0 34 6.26 34 14C34 24.5 20 40 20 40C20 40 6 24.5 6 14C6 6.26 12.26 0 20 0Z",fill:"#FB5A47"}),l.createElement("path",{d:"M20 10.6667V8H13.3333V20H26.6667V10.6667H20ZM16 18.6667H14.6667V17.3333H16V18.6667ZM16 16H14.6667V14.6667H16V16ZM16 13.3333H14.6667V12H16V13.3333ZM16 10.6667H14.6667V9.33333H16V10.6667ZM18.6667 18.6667H17.3333V17.3333H18.6667V18.6667ZM18.6667 16H17.3333V14.6667H18.6667V16ZM18.6667 13.3333H17.3333V12H18.6667V13.3333ZM18.6667 10.6667H17.3333V9.33333H18.6667V10.6667ZM25.3333 18.6667H20V17.3333H21.3333V16H20V14.6667H21.3333V13.3333H20V12H25.3333V18.6667ZM24 13.3333H22.6667V14.6667H24V13.3333ZM24 16H22.6667V17.3333H24V16Z",fill:"white"})),tr=l.forwardRef(function({jobs:e,onBoundsChange:r,viewState:n,onMove:a,selectedJob:i,onJobClick:o,padding:c,onMapLoad:u,onMoveEnd:p,mapboxToken:b,mapboxStyle:m},g){const x=l.useRef(null);l.useImperativeHandle(g,()=>({flyTo:N=>{var f;const y=(f=x.current)==null?void 0:f.getMap();y&&y.flyTo({center:N.center,zoom:N.zoom,duration:N.duration||Q})},easeTo:N=>{var f;const y=(f=x.current)==null?void 0:f.getMap();y&&y.easeTo({center:N.center,zoom:N.zoom,duration:N.duration||Q})},zoomOut:(N=2)=>{var f;const y=(f=x.current)==null?void 0:f.getMap();if(y){const M=y.getZoom();y.easeTo({zoom:Math.max(M-N,Fe),duration:Q})}},reset:()=>{var y;const N=(y=x.current)==null?void 0:y.getMap();N&&N.flyTo({center:[-97.646484,39.368279],zoom:1,duration:Q})},getBounds:()=>{var y;const N=(y=x.current)==null?void 0:y.getMap();return N?N.getBounds():null}}),[]);const R=l.useCallback(()=>{const N=x.current;if(N){const y=N.getMap().getBounds();r(y)}},[r]),w=l.useCallback(()=>{R(),p&&p()},[R,p]),k=l.useCallback(N=>{a(N)},[a]),C=l.useMemo(()=>{const N={};return e.forEach(f=>{const M=`${f.geometry.coordinates[0]},${f.geometry.coordinates[1]}`;N[M]||(N[M]=[]),N[M].push(f)}),{type:"FeatureCollection",features:e.map(f=>{const M=`${f.geometry.coordinates[0]},${f.geometry.coordinates[1]}`,I=N[M],T=I.length,F=f.properties.id===I.sort((E,d)=>E.properties.id.localeCompare(d.properties.id))[0].properties.id;return{...f,properties:{...f.properties,jobCount:T,allJobIds:I.map(E=>E.properties.id),showCount:F}}})}},[e]),O=l.useCallback(N=>{var I,T;const y=N.features||[],f=(T=(I=y[0])==null?void 0:I.properties)==null?void 0:T.cluster_id,M=x.current;if(f&&M){const F=M.getSource("jobs");F&&F.getClusterExpansionZoom(f,(E,d)=>{var v,P;if(E||!d)return;const h=(v=y[0])==null?void 0:v.geometry;let S;if(h&&"coordinates"in h&&Array.isArray(h.coordinates)&&(S=h.coordinates),!S)return;const A=(P=x.current)==null?void 0:P.getMap();A&&A.flyTo({center:[S[0],S[1]],zoom:d,duration:Q})})}},[x]),j=l.useCallback(N=>{var f,M,I;if(!e||e.length===0){console.log("Jobs data not loaded yet");return}const y=(f=N.features)==null?void 0:f[0];if(y&&typeof((M=y.properties)==null?void 0:M.id)=="string"){const T=e.find(F=>{var E;return F.properties.id===((E=y.properties)==null?void 0:E.id)});if(console.log("Clicked job:",T),T){o(T);const F=(I=x.current)==null?void 0:I.getMap();F&&F.flyTo({center:[T.geometry.coordinates[0],T.geometry.coordinates[1]],zoom:me,duration:Q})}}},[e,o]),_=l.useCallback(N=>{var y;N.features&&N.features.length>0&&((y=N.features[0].properties)!=null&&y.cluster?O(N):j(N))},[O,j]);return s.jsxs(zt,{ref:x,mapboxAccessToken:b,mapStyle:m,maxZoom:me,minZoom:Fe,reuseMaps:!0,cooperativeGestures:!0,dragRotate:!1,style:{width:"100%",height:"100%"},...n,onMove:k,onMoveEnd:w,padding:c,onLoad:u,interactiveLayerIds:["clusters","cluster-count","unclustered-point","unclustered-count"],onClick:_,children:[s.jsx(Ht,{position:"top-right",showCompass:!1}),s.jsx($t,{position:"top-right"}),s.jsxs(Kt,{id:"jobs",type:"geojson",data:C,cluster:!0,clusterMaxZoom:me-2,clusterRadius:100,clusterProperties:{sum:["+",["get","count",["get","cluster_properties"]]]},children:[s.jsx(ce,{id:"clusters",type:"circle",filter:["all",["has","point_count"],[">=",["get","point_count"],4]],paint:{"circle-color":"#0B4778","circle-radius":["step",["get","point_count"],20,10,30,50,40]}}),s.jsx(ce,{id:"small-clusters",type:"circle",filter:["all",["has","point_count"],["<",["get","point_count"],4]],paint:{"circle-color":"#0B4778","circle-radius":18}}),s.jsx(ce,{id:"cluster-count",type:"symbol",filter:["has","point_count"],layout:{"text-field":"{point_count_abbreviated}","text-font":["DIN Offc Pro Medium","Arial Unicode MS Bold"],"text-size":14},paint:{"text-color":"#ffffff"}}),s.jsx(ce,{id:"unclustered-point",type:"circle",filter:["!",["has","point_count"]],paint:{"circle-color":"#6fbab3","circle-radius":["case",["==",["get","showCount"],!0],14,10]}}),s.jsx(ce,{id:"unclustered-count",type:"symbol",filter:["all",["!",["has","point_count"]],["==",["get","showCount"],!0]],layout:{"text-field":"{jobCount}","text-font":["DIN Offc Pro Medium","Arial Unicode MS Bold"],"text-size":12},paint:{"text-color":"#1b1b1b"}})]}),i&&s.jsx(Wt,{longitude:i.geometry.coordinates[0],latitude:i.geometry.coordinates[1],children:s.jsx("div",{className:"cursor-pointer z-50",children:s.jsx(er,{width:42,height:42,style:{filter:"drop-shadow(0 2px 4px rgba(0, 0, 0, 0.3))",transform:"translateY(2px)"}})})},i.properties.id)]})}),rr=t=>l.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",...t},l.createElement("path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10 10-4.5 10-10S17.5 2 12 2zm4.2 14.2L11 13V7h1.5v5.2l4.5 2.7-.8 1.3z"})),nr=t=>l.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",...t},l.createElement("path",{d:"M20 6h-4V4c0-1.11-.89-2-2-2h-4c-1.11 0-2 .89-2 2v2H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-6 0h-4V4h4v2z"}));function Le(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function rt(...t){return e=>{let r=!1;const n=t.map(a=>{const i=Le(a,e);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():Le(t[a],null)}}}}function Z(...t){return l.useCallback(rt(...t),t)}function be(t){const e=ar(t),r=l.forwardRef((n,a)=>{const{children:i,...o}=n,c=l.Children.toArray(i),u=c.find(ir);if(u){const p=u.props.children,b=c.map(m=>m===u?l.Children.count(p)>1?l.Children.only(null):l.isValidElement(p)?p.props.children:null:m);return s.jsx(e,{...o,ref:a,children:l.isValidElement(p)?l.cloneElement(p,void 0,b):null})}return s.jsx(e,{...o,ref:a,children:i})});return r.displayName=`${t}.Slot`,r}var or=be("Slot");function ar(t){const e=l.forwardRef((r,n)=>{const{children:a,...i}=r;if(l.isValidElement(a)){const o=cr(a),c=lr(i,a.props);return a.type!==l.Fragment&&(c.ref=n?rt(n,o):o),l.cloneElement(a,c)}return l.Children.count(a)>1?l.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var sr=Symbol("radix.slottable");function ir(t){return l.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===sr}function lr(t,e){const r={...e};for(const n in e){const a=t[n],i=e[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...c)=>{const u=i(...c);return a(...c),u}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...t,...r}}function cr(t){var n,a;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(a=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:a.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}const Be=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Ve=Ut,ur=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return Ve(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:a,defaultVariants:i}=e,o=Object.keys(a).map(p=>{const b=r==null?void 0:r[p],m=i==null?void 0:i[p];if(b===null)return null;const g=Be(b)||Be(m);return a[p][g]}),c=r&&Object.entries(r).reduce((p,b)=>{let[m,g]=b;return g===void 0||(p[m]=g),p},{}),u=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((p,b)=>{let{class:m,className:g,...x}=b;return Object.entries(x).every(R=>{let[w,k]=R;return Array.isArray(k)?k.includes({...i,...c}[w]):{...i,...c}[w]===k})?[...p,m,g]:p},[]);return Ve(t,o,u,r==null?void 0:r.class,r==null?void 0:r.className)},dr=ur("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-sm text-sm md:text-base font-bold leading-none transition-colors duration-150 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-white hover:bg-primary/90",accent:"bg-accent text-foreground hover:bg-opacity-90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20",outline:"border-primary border bg-background text-primary shadow-xs hover:bg-gray-100 max-h-[40px]",ghost:"hover:bg-gray-100 hover:text-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"px-5 py-3 w-full text-center",sm:"h-8 gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 px-6 has-[>svg]:px-4",icon:"size-9",auto:"px-4 py-2"}},defaultVariants:{variant:"default",size:"default"}});function oe({className:t,variant:e,size:r,asChild:n=!1,...a}){const i=n?or:"button";return s.jsx(i,{"data-slot":"button",className:K(dr({variant:e,size:r,className:t})),...a})}const nt=l.forwardRef(({job:t,isSelected:e,onClick:r,className:n,...a},i)=>{const o=`$${Number(t.properties.salaryMin).toLocaleString()} - $${Number(t.properties.salaryMax).toLocaleString()} ${Zt[t.properties.salaryInterval]}`,c=t.properties.positionScheduleCodes.map(p=>ke[p]).join(", "),u=t.properties.positionOfferingTypeCodes.map(p=>Jt[p]).join(", ");return s.jsxs(ve,{ref:i,className:K("jobs-map-job-card cursor-pointer md:w-auto w-64 flex-shrink-0 min-h-[260px] transition-all duration-200 ease-out border-2 border-gray-200 relative hover:bg-[#E1F3F8] hover:shadow-md","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]",e&&"bg-[#E1F3F8] border-[#B5D7DD] shadow-xl z-10 transform -translate-y-3 md:translate-x-3 md:translate-y-0",n),onClick:()=>r(t),onKeyDown:p=>{if(p.key==="Enter"||p.key===" "){if(p.target.closest(".jobs-map-usajobs-link"))return;p.preventDefault(),r(t)}},role:"listitem",...a,children:[s.jsxs(Ge,{children:[s.jsx(qe,{children:t.properties.title}),t.properties.subagency&&s.jsx(Gt,{children:t.properties.subagency})]}),s.jsxs(Ye,{children:[s.jsxs("div",{className:"text-sm md:text-base flex items-center gap-2",children:[s.jsx(Xe,{width:16,height:16,className:"fill-current text-accent flex-shrink-0"}),s.jsx("span",{className:"line-clamp-1",children:t.properties.locationName})]}),s.jsxs("div",{className:"text-sm md:text-base flex items-center gap-2",children:[s.jsx(nr,{width:16,height:16,className:"fill-current text-accent flex-shrink-0"}),s.jsx("span",{className:"line-clamp-1",children:o})]}),s.jsxs("div",{className:"text-sm md:text-base flex items-center gap-2",children:[s.jsx(rr,{width:16,height:16,className:"fill-current text-accent flex-shrink-0"}),s.jsxs("span",{className:"line-clamp-1",children:[c," â€¢ ",u]})]})]}),s.jsx(Qe,{children:s.jsx(oe,{asChild:!0,onClick:p=>{p.stopPropagation();const b={jobId:t.properties.id,jobTitle:t.properties.title,location:t.properties.locationName,jobCategoryCodes:t.properties.jobCategoryCodes,href:t.properties.url,text:`Apply on USAJOBS for ${t.properties.title}`,target:"_blank",className:"jobs-map-usajobs-link"},m=new CustomEvent("jobs-map-apply-click",{bubbles:!0,composed:!0,detail:b});document.dispatchEvent(m),window.dataLayer&&window.dataLayer.push({event:"jobs-map-apply-click",eventDetail:b})},children:s.jsx("a",{href:t.properties.url,target:"_blank",rel:"noopener noreferrer",className:"jobs-map-usajobs-link","aria-label":`Apply on USAJOBS for ${t.properties.title} in ${t.properties.locationName}`,tabIndex:a.tabIndex,children:"Apply on USAJOBS"})})})]})});nt.displayName="JobCard";function fr({onExpandSearch:t,onOpenFilters:e}){const r=a=>{a.target.closest("button")||(a.preventDefault(),a.stopPropagation())},n=a=>{a.target.closest("button")||(a.preventDefault(),a.target.blur())};return s.jsxs(ve,{className:"md:w-auto w-64 flex-shrink-0 md:mx-2 mx-1 my-2 min-h-[260px] border-dashed border-gray-300",onClick:r,onFocus:n,tabIndex:-1,role:"listitem",children:[s.jsx(Ge,{children:s.jsx(qe,{children:"Not finding what you're looking for?"})}),s.jsx(Ye,{className:"text-sm md:text-base text-gray-600",children:"Try expanding your search area or adjusting your filters to see more opportunities."}),s.jsxs(Qe,{className:"flex flex-col gap-2",children:[s.jsx(oe,{variant:"accent",onClick:t,className:"w-full",children:"Expand Search Area"}),s.jsx(oe,{variant:"outline",onClick:e,className:"w-full",children:"Adjust Filters"})]})]})}function pr({jobs:t,onJobClick:e,selectedJob:r,resetScrollSignal:n,onExpandSearch:a,onOpenFilters:i}){const o=l.useRef(null),c=l.useRef({}),u=l.useRef([]),p=l.useRef(null),b=50,[m,g]=l.useState(b),[x,R]=l.useState(!1),[w,k]=l.useState(0),C=l.useMemo(()=>t.slice(0,m),[t,m]),O=t.length>C.length;l.useEffect(()=>{if(r){const f=t.findIndex(M=>M.properties.id===r.properties.id);f>=0&&f>=m&&g(Math.min(f+b,t.length))}},[r,t,m,b]);const j=l.useCallback(()=>{x||!O||(R(!0),setTimeout(()=>{g(f=>Math.min(f+b,t.length)),R(!1)},100))},[x,O,t.length,b]);l.useEffect(()=>{const f=p.current;if(!f)return;const M=new IntersectionObserver(I=>{const[T]=I;T.isIntersecting&&O&&!x&&j()},{threshold:.1,rootMargin:"100px"});return M.observe(f),()=>{M.unobserve(f)}},[j,O,x]),l.useEffect(()=>{g(b),k(0),u.current=[]},[t,b]),l.useEffect(()=>{o.current&&(window.innerWidth<768?o.current.scrollLeft=0:o.current.scrollTop=0)},[n]),l.useEffect(()=>{if(r){const f=C.findIndex(M=>M.properties.id===r.properties.id);f!==-1&&k(f)}},[r,C]),l.useEffect(()=>{r&&c.current[r.properties.id]&&o.current&&requestAnimationFrame(()=>{const f=c.current[r.properties.id],M=o.current;if(f&&M){const I=M.getBoundingClientRect(),T=f.getBoundingClientRect();if(window.innerWidth<768){const F=I.left,E=I.right,d=T.left,h=T.right;if(d<F||h>E){const S=f.offsetLeft-(M.clientWidth-f.clientWidth)/2;M.scrollTo({left:Math.max(0,S),behavior:"smooth"})}}else{const F=I.top,E=I.bottom,d=T.top,h=T.bottom;if(d<F||h>E){const S=f.offsetTop-(M.clientHeight-f.clientHeight)/2;M.scrollTo({top:Math.max(0,S),behavior:"smooth"})}}}})},[r,C]);const _=l.useCallback(f=>{var T;if(f.target.getAttribute("role")!=="listitem"||f.key!=="ArrowUp"&&f.key!=="ArrowDown"&&f.key!=="ArrowLeft"&&f.key!=="ArrowRight")return;f.preventDefault();const M=window.innerWidth>=768;let I=w;M?f.key==="ArrowDown"?I++:f.key==="ArrowUp"&&I--:f.key==="ArrowRight"?I++:f.key==="ArrowLeft"&&I--,I>=0&&I<C.length&&(k(I),(T=u.current[I])==null||T.focus())},[w,C.length]),N=l.useCallback(f=>{f.target===f.currentTarget&&(f.preventDefault(),f.stopPropagation())},[]),y=l.useCallback(f=>{const M=f.target;M===f.currentTarget&&(f.preventDefault(),M.blur())},[]);return l.useEffect(()=>{if(!o.current)return;const f=o.current;function M(T){window.innerWidth<768?T.deltaY!==0&&(T.preventDefault(),T.stopPropagation(),f.scrollLeft+=T.deltaY):T.stopPropagation()}function I(T){T.stopPropagation()}return f.addEventListener("wheel",M,{passive:!1}),f.addEventListener("scroll",I),()=>{f.removeEventListener("wheel",M),f.removeEventListener("scroll",I)}},[]),s.jsxs("div",{className:"md:overflow-y-auto overflow-x-auto md:max-h-screen max-w-full h-full flex md:flex-col flex-row hide-scrollbar gap-2 md:p-4 p-2 pt-4",ref:o,onKeyDown:_,onClick:N,onFocus:y,role:"list","aria-label":"List of available jobs",tabIndex:-1,children:[C.map((f,M)=>{const I=t.findIndex(T=>T.properties.id===f.properties.id);return s.jsx(nt,{ref:T=>{c.current[f.properties.id]=T,u.current[M]=T},job:f,isSelected:(r==null?void 0:r.properties.id)===f.properties.id,onClick:e,tabIndex:M===w?0:-1,"aria-posinset":I+1,"aria-setsize":t.length},f.properties.id)}),x&&s.jsx(ve,{className:"cursor-default md:w-auto w-64 flex-shrink-0 min-h-[260px] border-2 border-transparent",children:s.jsx("div",{className:"flex flex-col justify-center items-center space-y-4 p-4 h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-lg font-bold text-accent mb-2",children:"Loading more jobs..."}),s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-accent mx-auto"})]})})}),O&&!x&&s.jsx(ve,{ref:p,className:"cursor-default md:w-auto w-64 flex-shrink-0 min-h-[260px] border-2 border-transparent",children:s.jsx("div",{className:"flex flex-col justify-center items-center space-y-4 p-4 h-full",children:s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"text-lg font-bold text-accent mb-2",children:["Showing ",C.length," of ",t.length," jobs"]}),s.jsx("div",{className:"text-sm md:text-base text-accent mb-4",children:"Scroll down to load more jobs automatically"})]})})}),!O&&s.jsx(fr,{onExpandSearch:a,onOpenFilters:i})]})}const hr=t=>l.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"currentColor",...t},l.createElement("path",{d:"M3 17v2h6v-2H3zM3 5v2h10V5H3zm10 16v-2h8v-2h-8v-2h-2v6h2zM7 9v2H3v2h4v2h2V9H7zm14 4v-2H11v2h10zm-6-4h2V7h4V5h-4V3h-2v6z"}));var mr=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],q=mr.reduce((t,e)=>{const r=be(`Primitive.${e}`),n=l.forwardRef((a,i)=>{const{asChild:o,...c}=a,u=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(u,{...c,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),vr="Label",ot=l.forwardRef((t,e)=>s.jsx(q.label,{...t,ref:e,onMouseDown:r=>{var a;r.target.closest("button, input, select, textarea")||((a=t.onMouseDown)==null||a.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));ot.displayName=vr;var br=ot;function ae({className:t,...e}){return s.jsx(br,{"data-slot":"label",className:K("flex items-center gap-2 text-sm md:text-base leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50 mb-3",t),...e})}function te(t,e,{checkForDefaultPrevented:r=!0}={}){return function(a){if(t==null||t(a),r===!1||!a.defaultPrevented)return e==null?void 0:e(a)}}function Me(t,e=[]){let r=[];function n(i,o){const c=l.createContext(o),u=r.length;r=[...r,o];const p=m=>{var C;const{scope:g,children:x,...R}=m,w=((C=g==null?void 0:g[t])==null?void 0:C[u])||c,k=l.useMemo(()=>R,Object.values(R));return s.jsx(w.Provider,{value:k,children:x})};p.displayName=i+"Provider";function b(m,g){var w;const x=((w=g==null?void 0:g[t])==null?void 0:w[u])||c,R=l.useContext(x);if(R)return R;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${i}\``)}return[p,b]}const a=()=>{const i=r.map(o=>l.createContext(o));return function(c){const u=(c==null?void 0:c[t])||i;return l.useMemo(()=>({[`__scope${t}`]:{...c,[t]:u}}),[c,u])}};return a.scopeName=t,[n,gr(a,...e)]}function gr(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((c,{useScope:u,scopeName:p})=>{const m=u(i)[`__scope${p}`];return{...c,...m}},{});return l.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}var at=globalThis!=null&&globalThis.document?l.useLayoutEffect:()=>{},xr=qt[" useInsertionEffect ".trim().toString()]||at;function st({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[a,i,o]=yr({defaultProp:e,onChange:r}),c=t!==void 0,u=c?t:a;{const b=l.useRef(t!==void 0);l.useEffect(()=>{const m=b.current;m!==c&&console.warn(`${n} is changing from ${m?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),b.current=c},[c,n])}const p=l.useCallback(b=>{var m;if(c){const g=wr(b)?b(t):b;g!==t&&((m=o.current)==null||m.call(o,g))}else i(b)},[c,t,i,o]);return[u,p]}function yr({defaultProp:t,onChange:e}){const[r,n]=l.useState(t),a=l.useRef(r),i=l.useRef(e);return xr(()=>{i.current=e},[e]),l.useEffect(()=>{var o;a.current!==r&&((o=i.current)==null||o.call(i,r),a.current=r)},[r,a]),[r,n,i]}function wr(t){return typeof t=="function"}function it(t){const e=l.useRef({value:t,previous:t});return l.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}function lt(t){const[e,r]=l.useState(void 0);return at(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,c;if("borderBoxSize"in i){const u=i.borderBoxSize,p=Array.isArray(u)?u[0]:u;o=p.inlineSize,c=p.blockSize}else o=t.offsetWidth,c=t.offsetHeight;r({width:o,height:c})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var Se="Switch",[Sr,Yn]=Me(Se),[Cr,Nr]=Sr(Se),ct=l.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:o,disabled:c,value:u="on",onCheckedChange:p,form:b,...m}=t,[g,x]=l.useState(null),R=Z(e,j=>x(j)),w=l.useRef(!1),k=g?b||!!g.closest("form"):!0,[C,O]=st({prop:a,defaultProp:i??!1,onChange:p,caller:Se});return s.jsxs(Cr,{scope:r,checked:C,disabled:c,children:[s.jsx(q.button,{type:"button",role:"switch","aria-checked":C,"aria-required":o,"data-state":pt(C),"data-disabled":c?"":void 0,disabled:c,value:u,...m,ref:R,onClick:te(t.onClick,j=>{O(_=>!_),k&&(w.current=j.isPropagationStopped(),w.current||j.stopPropagation())})}),k&&s.jsx(ft,{control:g,bubbles:!w.current,name:n,value:u,checked:C,required:o,disabled:c,form:b,style:{transform:"translateX(-100%)"}})]})});ct.displayName=Se;var ut="SwitchThumb",dt=l.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,a=Nr(ut,r);return s.jsx(q.span,{"data-state":pt(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:e})});dt.displayName=ut;var jr="SwitchBubbleInput",ft=l.forwardRef(({__scopeSwitch:t,control:e,checked:r,bubbles:n=!0,...a},i)=>{const o=l.useRef(null),c=Z(o,i),u=it(r),p=lt(e);return l.useEffect(()=>{const b=o.current;if(!b)return;const m=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(m,"checked").set;if(u!==r&&x){const R=new Event("click",{bubbles:n});x.call(b,r),b.dispatchEvent(R)}},[u,r,n]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:c,style:{...a.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});ft.displayName=jr;function pt(t){return t?"checked":"unchecked"}var kr=ct,Er=dt;function Rr({className:t,...e}){return s.jsx(kr,{"data-slot":"switch",className:K("peer data-[state=checked]:bg-accent data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 cursor-pointer",t),...e,children:s.jsx(Er,{"data-slot":"switch-thumb",className:K("bg-background pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function ht(t,[e,r]){return Math.min(r,Math.max(e,t))}var Tr=l.createContext(void 0);function Ar(t){const e=l.useContext(Tr);return t||e||"ltr"}function Pr(t){const e=t+"CollectionProvider",[r,n]=Me(e),[a,i]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=w=>{const{scope:k,children:C}=w,O=X.useRef(null),j=X.useRef(new Map).current;return s.jsx(a,{scope:k,itemMap:j,collectionRef:O,children:C})};o.displayName=e;const c=t+"CollectionSlot",u=be(c),p=X.forwardRef((w,k)=>{const{scope:C,children:O}=w,j=i(c,C),_=Z(k,j.collectionRef);return s.jsx(u,{ref:_,children:O})});p.displayName=c;const b=t+"CollectionItemSlot",m="data-radix-collection-item",g=be(b),x=X.forwardRef((w,k)=>{const{scope:C,children:O,...j}=w,_=X.useRef(null),N=Z(k,_),y=i(b,C);return X.useEffect(()=>(y.itemMap.set(_,{ref:_,...j}),()=>void y.itemMap.delete(_))),s.jsx(g,{[m]:"",ref:N,children:O})});x.displayName=b;function R(w){const k=i(t+"CollectionConsumer",w);return X.useCallback(()=>{const O=k.collectionRef.current;if(!O)return[];const j=Array.from(O.querySelectorAll(`[${m}]`));return Array.from(k.itemMap.values()).sort((y,f)=>j.indexOf(y.ref.current)-j.indexOf(f.ref.current))},[k.collectionRef,k.itemMap])}return[{Provider:o,Slot:p,ItemSlot:x},R,n]}var mt=["PageUp","PageDown"],vt=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],bt={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},se="Slider",[Ee,Mr,Ir]=Pr(se),[gt,Xn]=Me(se,[Ir]),[_r,Ce]=gt(se),xt=l.forwardRef((t,e)=>{const{name:r,min:n=0,max:a=100,step:i=1,orientation:o="horizontal",disabled:c=!1,minStepsBetweenThumbs:u=0,defaultValue:p=[n],value:b,onValueChange:m=()=>{},onValueCommit:g=()=>{},inverted:x=!1,form:R,...w}=t,k=l.useRef(new Set),C=l.useRef(0),j=o==="horizontal"?Dr:Fr,[_=[],N]=st({prop:b,defaultProp:p,onChange:F=>{var d;(d=[...k.current][C.current])==null||d.focus(),m(F)}}),y=l.useRef(_);function f(F){const E=zr(_,F);T(F,E)}function M(F){T(F,C.current)}function I(){const F=y.current[C.current];_[C.current]!==F&&g(_)}function T(F,E,{commit:d}={commit:!1}){const h=Wr(i),S=Ur(Math.round((F-n)/i)*i+n,h),A=ht(S,[n,a]);N((v=[])=>{const P=Br(v,A,E);if(Kr(P,u*i)){C.current=P.indexOf(A);const L=String(P)!==String(v);return L&&d&&g(P),L?P:v}else return v})}return s.jsx(_r,{scope:t.__scopeSlider,name:r,disabled:c,min:n,max:a,valueIndexToChangeRef:C,thumbs:k.current,values:_,orientation:o,form:R,children:s.jsx(Ee.Provider,{scope:t.__scopeSlider,children:s.jsx(Ee.Slot,{scope:t.__scopeSlider,children:s.jsx(j,{"aria-disabled":c,"data-disabled":c?"":void 0,...w,ref:e,onPointerDown:te(w.onPointerDown,()=>{c||(y.current=_)}),min:n,max:a,inverted:x,onSlideStart:c?void 0:f,onSlideMove:c?void 0:M,onSlideEnd:c?void 0:I,onHomeKeyDown:()=>!c&&T(n,0,{commit:!0}),onEndKeyDown:()=>!c&&T(a,_.length-1,{commit:!0}),onStepKeyDown:({event:F,direction:E})=>{if(!c){const S=mt.includes(F.key)||F.shiftKey&&vt.includes(F.key)?10:1,A=C.current,v=_[A],P=i*S*E;T(v+P,A,{commit:!0})}}})})})})});xt.displayName=se;var[yt,wt]=gt(se,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Dr=l.forwardRef((t,e)=>{const{min:r,max:n,dir:a,inverted:i,onSlideStart:o,onSlideMove:c,onSlideEnd:u,onStepKeyDown:p,...b}=t,[m,g]=l.useState(null),x=Z(e,j=>g(j)),R=l.useRef(void 0),w=Ar(a),k=w==="ltr",C=k&&!i||!k&&i;function O(j){const _=R.current||m.getBoundingClientRect(),N=[0,_.width],f=Ie(N,C?[r,n]:[n,r]);return R.current=_,f(j-_.left)}return s.jsx(yt,{scope:t.__scopeSlider,startEdge:C?"left":"right",endEdge:C?"right":"left",direction:C?1:-1,size:"width",children:s.jsx(St,{dir:w,"data-orientation":"horizontal",...b,ref:x,style:{...b.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:j=>{const _=O(j.clientX);o==null||o(_)},onSlideMove:j=>{const _=O(j.clientX);c==null||c(_)},onSlideEnd:()=>{R.current=void 0,u==null||u()},onStepKeyDown:j=>{const N=bt[C?"from-left":"from-right"].includes(j.key);p==null||p({event:j,direction:N?-1:1})}})})}),Fr=l.forwardRef((t,e)=>{const{min:r,max:n,inverted:a,onSlideStart:i,onSlideMove:o,onSlideEnd:c,onStepKeyDown:u,...p}=t,b=l.useRef(null),m=Z(e,b),g=l.useRef(void 0),x=!a;function R(w){const k=g.current||b.current.getBoundingClientRect(),C=[0,k.height],j=Ie(C,x?[n,r]:[r,n]);return g.current=k,j(w-k.top)}return s.jsx(yt,{scope:t.__scopeSlider,startEdge:x?"bottom":"top",endEdge:x?"top":"bottom",size:"height",direction:x?1:-1,children:s.jsx(St,{"data-orientation":"vertical",...p,ref:m,style:{...p.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:w=>{const k=R(w.clientY);i==null||i(k)},onSlideMove:w=>{const k=R(w.clientY);o==null||o(k)},onSlideEnd:()=>{g.current=void 0,c==null||c()},onStepKeyDown:w=>{const C=bt[x?"from-bottom":"from-top"].includes(w.key);u==null||u({event:w,direction:C?-1:1})}})})}),St=l.forwardRef((t,e)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:a,onSlideEnd:i,onHomeKeyDown:o,onEndKeyDown:c,onStepKeyDown:u,...p}=t,b=Ce(se,r);return s.jsx(q.span,{...p,ref:e,onKeyDown:te(t.onKeyDown,m=>{m.key==="Home"?(o(m),m.preventDefault()):m.key==="End"?(c(m),m.preventDefault()):mt.concat(vt).includes(m.key)&&(u(m),m.preventDefault())}),onPointerDown:te(t.onPointerDown,m=>{const g=m.target;g.setPointerCapture(m.pointerId),m.preventDefault(),b.thumbs.has(g)?g.focus():n(m)}),onPointerMove:te(t.onPointerMove,m=>{m.target.hasPointerCapture(m.pointerId)&&a(m)}),onPointerUp:te(t.onPointerUp,m=>{const g=m.target;g.hasPointerCapture(m.pointerId)&&(g.releasePointerCapture(m.pointerId),i(m))})})}),Ct="SliderTrack",Nt=l.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,a=Ce(Ct,r);return s.jsx(q.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...n,ref:e})});Nt.displayName=Ct;var Re="SliderRange",jt=l.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,a=Ce(Re,r),i=wt(Re,r),o=l.useRef(null),c=Z(e,o),u=a.values.length,p=a.values.map(g=>Rt(g,a.min,a.max)),b=u>1?Math.min(...p):0,m=100-Math.max(...p);return s.jsx(q.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...n,ref:c,style:{...t.style,[i.startEdge]:b+"%",[i.endEdge]:m+"%"}})});jt.displayName=Re;var Te="SliderThumb",kt=l.forwardRef((t,e)=>{const r=Mr(t.__scopeSlider),[n,a]=l.useState(null),i=Z(e,c=>a(c)),o=l.useMemo(()=>n?r().findIndex(c=>c.ref.current===n):-1,[r,n]);return s.jsx(Or,{...t,ref:i,index:o})}),Or=l.forwardRef((t,e)=>{const{__scopeSlider:r,index:n,name:a,...i}=t,o=Ce(Te,r),c=wt(Te,r),[u,p]=l.useState(null),b=Z(e,O=>p(O)),m=u?o.form||!!u.closest("form"):!0,g=lt(u),x=o.values[n],R=x===void 0?0:Rt(x,o.min,o.max),w=Vr(n,o.values.length),k=g==null?void 0:g[c.size],C=k?Hr(k,R,c.direction):0;return l.useEffect(()=>{if(u)return o.thumbs.add(u),()=>{o.thumbs.delete(u)}},[u,o.thumbs]),s.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[c.startEdge]:`calc(${R}% + ${C}px)`},children:[s.jsx(Ee.ItemSlot,{scope:t.__scopeSlider,children:s.jsx(q.span,{role:"slider","aria-label":t["aria-label"]||w,"aria-valuemin":o.min,"aria-valuenow":x,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...i,ref:b,style:x===void 0?{display:"none"}:t.style,onFocus:te(t.onFocus,()=>{o.valueIndexToChangeRef.current=n})})}),m&&s.jsx(Et,{name:a??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:x},n)]})});kt.displayName=Te;var Lr="RadioBubbleInput",Et=l.forwardRef(({__scopeSlider:t,value:e,...r},n)=>{const a=l.useRef(null),i=Z(a,n),o=it(e);return l.useEffect(()=>{const c=a.current;if(!c)return;const u=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(u,"value").set;if(o!==e&&b){const m=new Event("input",{bubbles:!0});b.call(c,e),c.dispatchEvent(m)}},[o,e]),s.jsx(q.input,{style:{display:"none"},...r,ref:i,defaultValue:e})});Et.displayName=Lr;function Br(t=[],e,r){const n=[...t];return n[r]=e,n.sort((a,i)=>a-i)}function Rt(t,e,r){const i=100/(r-e)*(t-e);return ht(i,[0,100])}function Vr(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function zr(t,e){if(t.length===1)return 0;const r=t.map(a=>Math.abs(a-e)),n=Math.min(...r);return r.indexOf(n)}function Hr(t,e,r){const n=t/2,i=Ie([0,50],[0,n]);return(n-i(e)*r)*r}function $r(t){return t.slice(0,-1).map((e,r)=>t[r+1]-e)}function Kr(t,e){if(e>0){const r=$r(t);return Math.min(...r)>=e}return!0}function Ie(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function Wr(t){return(String(t).split(".")[1]||"").length}function Ur(t,e){const r=Math.pow(10,e);return Math.round(t*r)/r}var Zr=xt,Jr=Nt,Gr=jt,qr=kt;function Yr({className:t,defaultValue:e,value:r,min:n=0,max:a=100,...i}){const o=l.useMemo(()=>Array.isArray(r)?r:Array.isArray(e)?e:[n,a],[r,e,n,a]);return s.jsxs(Zr,{"data-slot":"slider",defaultValue:e,value:r,min:n,max:a,className:K("relative flex w-full touch-none items-center select-none data-[disabled]:opacity-50 data-[orientation=vertical]:h-full data-[orientation=vertical]:min-h-44 data-[orientation=vertical]:w-auto data-[orientation=vertical]:flex-col",t),...i,children:[s.jsx(Jr,{"data-slot":"slider-track",className:K("bg-muted relative grow overflow-hidden rounded-full data-[orientation=horizontal]:h-1.5 data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-1.5"),children:s.jsx(Gr,{"data-slot":"slider-range",className:K("bg-accent absolute data-[orientation=horizontal]:h-full data-[orientation=vertical]:w-full")})}),Array.from({length:o.length},(c,u)=>s.jsx(qr,{"data-slot":"slider-thumb",className:"border-brand-blue bg-background ring-ring/50 block size-4 shrink-0 rounded-full border shadow-sm transition-[color,box-shadow] hover:ring-4 focus-visible:ring-4 focus-visible:outline-hidden disabled:pointer-events-none disabled:opacity-50 cursor-pointer"},u))]})}/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xr=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Qr=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),ze=t=>{const e=Qr(t);return e.charAt(0).toUpperCase()+e.slice(1)},Tt=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim(),en=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var tn={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rn=l.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...c},u)=>l.createElement("svg",{ref:u,...tn,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:Tt("lucide",a),...!i&&!en(c)&&{"aria-hidden":"true"},...c},[...o.map(([p,b])=>l.createElement(p,b)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=(t,e)=>{const r=l.forwardRef(({className:n,...a},i)=>l.createElement(rn,{ref:i,iconNode:e,className:Tt(`lucide-${Xr(ze(t))}`,`lucide-${t}`,n),...a}));return r.displayName=ze(t),r};/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nn=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],on=At("check",nn);/**
 * @license lucide-react v0.511.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],sn=At("chevron-down",an);function Pt({id:t,value:e,onValueChange:r,options:n,placeholder:a="Select an option",className:i,size:o="default",disabled:c=!1,container:u}){const[p,b]=l.useState(!1),[m,g]=l.useState(!1),[x,R]=l.useState(-1),w=l.useRef(null),k=l.useRef(null),C=n.find(y=>y.value===e),O=()=>{c||(b(!0),requestAnimationFrame(()=>g(!0)))},j=()=>{g(!1),setTimeout(()=>{b(!1)},150)},_=y=>{var f;r(y),j(),(f=w.current)==null||f.focus()},N=y=>{if(p)switch(y.key){case"Escape":y.preventDefault(),y.stopPropagation(),j();break;case"Tab":j();break;case"ArrowDown":y.preventDefault(),R(f=>f<n.length-1?f+1:0);break;case"ArrowUp":y.preventDefault(),R(f=>f>0?f-1:n.length-1);break;case"Enter":case" ":y.preventDefault(),x>=0&&_(n[x].value);break;case"Home":y.preventDefault(),R(0);break;case"End":y.preventDefault(),R(n.length-1);break}};return l.useEffect(()=>{const y=f=>{p&&k.current&&!k.current.contains(f.target)&&w.current&&!w.current.contains(f.target)&&j()};return p&&(document.addEventListener("mousedown",y),document.addEventListener("keydown",N)),()=>{document.removeEventListener("mousedown",y),document.removeEventListener("keydown",N)}},[p,x,n]),s.jsxs("div",{className:"relative",children:[s.jsxs("button",{ref:w,id:t,type:"button",onClick:O,disabled:c,"aria-haspopup":"listbox","aria-expanded":p,"aria-controls":"dropdown-content",className:K("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 aria-invalid:border-destructive flex w-full items-center justify-between gap-2 rounded-md border bg-white px-3 py-2 text-sm md:text-base whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 cursor-pointer",o==="default"?"h-9":"h-8",!C&&"text-muted-foreground",i),children:[s.jsx("span",{className:"truncate",children:C?C.label:a}),s.jsx(sn,{className:K("size-4 opacity-50 transition-transform duration-200",p&&"rotate-180")})]}),p&&u&&et.createPortal(s.jsx("div",{ref:k,id:"dropdown-content",role:"listbox","aria-label":"Options",className:K("bg-popover text-popover-foreground relative z-50 max-h-60 min-w-[8rem] overflow-y-auto rounded-md border shadow-md transition-all duration-150 ease-in-out",m?"opacity-100 scale-100":"opacity-0 scale-95"),style:{position:"absolute",top:w.current&&u?w.current.getBoundingClientRect().bottom-u.getBoundingClientRect().top+4:0,left:w.current&&u?w.current.getBoundingClientRect().left-u.getBoundingClientRect().left:0,width:w.current?w.current.getBoundingClientRect().width:"auto"},children:s.jsx("div",{className:"p-1",children:n.map((y,f)=>s.jsxs("button",{type:"button",role:"option","aria-selected":e===y.value,onClick:()=>_(y.value),onMouseEnter:()=>R(f),className:K("relative flex w-full items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm md:text-base outline-none select-none transition-colors cursor-pointer",e===y.value&&"bg-accent/50 text-accent-foreground",x===f&&"bg-accent/80 text-accent-foreground","hover:bg-accent/80 hover:text-accent-foreground"),children:[s.jsx("span",{className:"truncate",children:y.label}),e===y.value&&s.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:s.jsx(on,{className:"size-4"})})]},y.value))})}),u)]})}function He({value:t,onChange:e,hideLabel:r=!1}){return s.jsxs("div",{className:"flex flex-col flex-1",children:[s.jsx(ae,{htmlFor:"job-title",className:r?"sr-only":"",children:"Job title"}),s.jsx(tt,{type:"text",id:"job-title",placeholder:"Search job title",className:"w-full",icon:s.jsx(Yt,{className:"w-5 h-5","aria-hidden":"true"}),iconPosition:"left",value:t,onChange:e})]})}function $e({value:t,onChange:e,hideLabel:r=!1}){return s.jsxs("div",{className:"flex flex-col flex-1",children:[s.jsx(ae,{htmlFor:"location",className:r?"sr-only":"",children:"Location"}),s.jsx(tt,{type:"text",id:"location",placeholder:"Search location",className:"w-full",icon:s.jsx(Xe,{className:"w-5 h-5","aria-hidden":"true"}),iconPosition:"left",value:t,onChange:e})]})}function ln({value:t,onChange:e}){return s.jsxs("div",{className:"flex flex-col flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Rr,{checked:t,onCheckedChange:e,id:"open-to-public"}),s.jsx(ae,{htmlFor:"open-to-public",className:"mb-0 cursor-pointer",children:"Open to the public"})]}),s.jsx("div",{className:"text-sm md:text-base italic text-gray-500 mt-2",children:"Open to the public is a job open to all U.S. citizens, not only those currently working in government."})]})}function cn({value:t,onChange:e,options:r,container:n}){return s.jsxs("div",{className:"flex flex-col flex-1",children:[s.jsx(ae,{htmlFor:"career-area",className:"cursor-pointer",children:"Career area"}),s.jsx(Pt,{id:"career-area",value:t,onValueChange:e,options:[{value:"__all__",label:"All career areas"},...r.map(a=>({value:a,label:a}))],container:n})]})}function un({value:t,onChange:e,options:r,container:n}){return s.jsxs("div",{className:"flex flex-col flex-1",children:[s.jsx(ae,{htmlFor:"work-schedule",className:"cursor-pointer",children:"Work schedule"}),s.jsx(Pt,{id:"work-schedule",value:t,onValueChange:e,options:[{value:"__all__",label:"All work schedules"},...r.map(a=>({value:a,label:a}))],container:n})]})}function dn({value:t,onChange:e}){return s.jsxs("div",{className:"flex flex-col flex-1",children:[s.jsxs("div",{className:"flex items-center mb-4 gap-2",children:[s.jsx(ae,{htmlFor:"salary-slider",className:"mb-0",children:"Minimum salary"}),s.jsxs("div",{className:"text-sm md:text-base font-medium",children:["$",(t??0).toLocaleString(),"+"]})]}),s.jsx(Yr,{id:"salary-slider",min:0,max:4e5,step:2e4,value:[t??0],onValueChange:([r])=>e(r===0?void 0:r),className:"w-full"}),s.jsxs("div",{className:"flex justify-between w-full text-xs text-gray-400 mt-2",children:[s.jsx("span",{children:"$0"}),s.jsx("span",{children:"$400k"})]})]})}/*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var Mt=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],ge=Mt.join(","),It=typeof Element>"u",re=It?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,xe=!It&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},ye=function t(e,r){var n;r===void 0&&(r=!0);var a=e==null||(n=e.getAttribute)===null||n===void 0?void 0:n.call(e,"inert"),i=a===""||a==="true",o=i||r&&e&&t(e.parentNode);return o},fn=function(e){var r,n=e==null||(r=e.getAttribute)===null||r===void 0?void 0:r.call(e,"contenteditable");return n===""||n==="true"},_t=function(e,r,n){if(ye(e))return[];var a=Array.prototype.slice.apply(e.querySelectorAll(ge));return r&&re.call(e,ge)&&a.unshift(e),a=a.filter(n),a},Dt=function t(e,r,n){for(var a=[],i=Array.from(e);i.length;){var o=i.shift();if(!ye(o,!1))if(o.tagName==="SLOT"){var c=o.assignedElements(),u=c.length?c:o.children,p=t(u,!0,n);n.flatten?a.push.apply(a,p):a.push({scopeParent:o,candidates:p})}else{var b=re.call(o,ge);b&&n.filter(o)&&(r||!e.includes(o))&&a.push(o);var m=o.shadowRoot||typeof n.getShadowRoot=="function"&&n.getShadowRoot(o),g=!ye(m,!1)&&(!n.shadowRootFilter||n.shadowRootFilter(o));if(m&&g){var x=t(m===!0?o.children:m.children,!0,n);n.flatten?a.push.apply(a,x):a.push({scopeParent:o,candidates:x})}else i.unshift.apply(i,o.children)}}return a},Ft=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},ee=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||fn(e))&&!Ft(e)?0:e.tabIndex},pn=function(e,r){var n=ee(e);return n<0&&r&&!Ft(e)?0:n},hn=function(e,r){return e.tabIndex===r.tabIndex?e.documentOrder-r.documentOrder:e.tabIndex-r.tabIndex},Ot=function(e){return e.tagName==="INPUT"},mn=function(e){return Ot(e)&&e.type==="hidden"},vn=function(e){var r=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(n){return n.tagName==="SUMMARY"});return r},bn=function(e,r){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===r)return e[n]},gn=function(e){if(!e.name)return!0;var r=e.form||xe(e),n=function(c){return r.querySelectorAll('input[type="radio"][name="'+c+'"]')},a;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")a=n(window.CSS.escape(e.name));else try{a=n(e.name)}catch(o){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",o.message),!1}var i=bn(a,e.form);return!i||i===e},xn=function(e){return Ot(e)&&e.type==="radio"},yn=function(e){return xn(e)&&!gn(e)},wn=function(e){var r,n=e&&xe(e),a=(r=n)===null||r===void 0?void 0:r.host,i=!1;if(n&&n!==e){var o,c,u;for(i=!!((o=a)!==null&&o!==void 0&&(c=o.ownerDocument)!==null&&c!==void 0&&c.contains(a)||e!=null&&(u=e.ownerDocument)!==null&&u!==void 0&&u.contains(e));!i&&a;){var p,b,m;n=xe(a),a=(p=n)===null||p===void 0?void 0:p.host,i=!!((b=a)!==null&&b!==void 0&&(m=b.ownerDocument)!==null&&m!==void 0&&m.contains(a))}}return i},Ke=function(e){var r=e.getBoundingClientRect(),n=r.width,a=r.height;return n===0&&a===0},Sn=function(e,r){var n=r.displayCheck,a=r.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var i=re.call(e,"details>summary:first-of-type"),o=i?e.parentElement:e;if(re.call(o,"details:not([open]) *"))return!0;if(!n||n==="full"||n==="legacy-full"){if(typeof a=="function"){for(var c=e;e;){var u=e.parentElement,p=xe(e);if(u&&!u.shadowRoot&&a(u)===!0)return Ke(e);e.assignedSlot?e=e.assignedSlot:!u&&p!==e.ownerDocument?e=p.host:e=u}e=c}if(wn(e))return!e.getClientRects().length;if(n!=="legacy-full")return!0}else if(n==="non-zero-area")return Ke(e);return!1},Cn=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var r=e.parentElement;r;){if(r.tagName==="FIELDSET"&&r.disabled){for(var n=0;n<r.children.length;n++){var a=r.children.item(n);if(a.tagName==="LEGEND")return re.call(r,"fieldset[disabled] *")?!0:!a.contains(e)}return!0}r=r.parentElement}return!1},we=function(e,r){return!(r.disabled||ye(r)||mn(r)||Sn(r,e)||vn(r)||Cn(r))},Ae=function(e,r){return!(yn(r)||ee(r)<0||!we(e,r))},Nn=function(e){var r=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(r)||r>=0)},jn=function t(e){var r=[],n=[];return e.forEach(function(a,i){var o=!!a.scopeParent,c=o?a.scopeParent:a,u=pn(c,o),p=o?t(a.candidates):c;u===0?o?r.push.apply(r,p):r.push(c):n.push({documentOrder:i,tabIndex:u,item:a,isScope:o,content:p})}),n.sort(hn).reduce(function(a,i){return i.isScope?a.push.apply(a,i.content):a.push(i.content),a},[]).concat(r)},kn=function(e,r){r=r||{};var n;return r.getShadowRoot?n=Dt([e],r.includeContainer,{filter:Ae.bind(null,r),flatten:!1,getShadowRoot:r.getShadowRoot,shadowRootFilter:Nn}):n=_t(e,r.includeContainer,Ae.bind(null,r)),jn(n)},En=function(e,r){r=r||{};var n;return r.getShadowRoot?n=Dt([e],r.includeContainer,{filter:we.bind(null,r),flatten:!0,getShadowRoot:r.getShadowRoot}):n=_t(e,r.includeContainer,we.bind(null,r)),n},ne=function(e,r){if(r=r||{},!e)throw new Error("No node provided");return re.call(e,ge)===!1?!1:Ae(r,e)},Rn=Mt.concat("iframe").join(","),je=function(e,r){if(r=r||{},!e)throw new Error("No node provided");return re.call(e,Rn)===!1?!1:we(r,e)};/*!
* focus-trap 7.6.5
* @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
*/function Pe(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Tn(t){if(Array.isArray(t))return Pe(t)}function An(t,e,r){return(e=Dn(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Pn(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Mn(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function We(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ue(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?We(Object(r),!0).forEach(function(n){An(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):We(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function In(t){return Tn(t)||Pn(t)||Fn(t)||Mn()}function _n(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dn(t){var e=_n(t,"string");return typeof e=="symbol"?e:e+""}function Fn(t,e){if(t){if(typeof t=="string")return Pe(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Pe(t,e):void 0}}var Ze={activateTrap:function(e,r){if(e.length>0){var n=e[e.length-1];n!==r&&n._setPausedState(!0)}var a=e.indexOf(r);a===-1||e.splice(a,1),e.push(r)},deactivateTrap:function(e,r){var n=e.indexOf(r);n!==-1&&e.splice(n,1),e.length>0&&!e[e.length-1]._isManuallyPaused()&&e[e.length-1]._setPausedState(!1)}},On=function(e){return e.tagName&&e.tagName.toLowerCase()==="input"&&typeof e.select=="function"},Ln=function(e){return(e==null?void 0:e.key)==="Escape"||(e==null?void 0:e.key)==="Esc"||(e==null?void 0:e.keyCode)===27},de=function(e){return(e==null?void 0:e.key)==="Tab"||(e==null?void 0:e.keyCode)===9},Bn=function(e){return de(e)&&!e.shiftKey},Vn=function(e){return de(e)&&e.shiftKey},Je=function(e){return setTimeout(e,0)},ue=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return typeof e=="function"?e.apply(void 0,n):e},he=function(e){return e.target.shadowRoot&&typeof e.composedPath=="function"?e.composedPath()[0]:e.target},zn=[],Hn=function(e,r){var n=(r==null?void 0:r.document)||document,a=(r==null?void 0:r.trapStack)||zn,i=Ue({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:Bn,isKeyBackward:Vn},r),o={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,manuallyPaused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},c,u=function(d,h,S){return d&&d[h]!==void 0?d[h]:i[S||h]},p=function(d,h){var S=typeof(h==null?void 0:h.composedPath)=="function"?h.composedPath():void 0;return o.containerGroups.findIndex(function(A){var v=A.container,P=A.tabbableNodes;return v.contains(d)||(S==null?void 0:S.includes(v))||P.find(function(L){return L===d})})},b=function(d){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},S=h.hasFallback,A=S===void 0?!1:S,v=h.params,P=v===void 0?[]:v,L=i[d];if(typeof L=="function"&&(L=L.apply(void 0,In(P))),L===!0&&(L=void 0),!L){if(L===void 0||L===!1)return L;throw new Error("`".concat(d,"` was specified but was not a node, or did not return a node"))}var V=L;if(typeof L=="string"){try{V=n.querySelector(L)}catch(B){throw new Error("`".concat(d,'` appears to be an invalid selector; error="').concat(B.message,'"'))}if(!V&&!A)throw new Error("`".concat(d,"` as selector refers to no known node"))}return V},m=function(){var d=b("initialFocus",{hasFallback:!0});if(d===!1)return!1;if(d===void 0||d&&!je(d,i.tabbableOptions))if(p(n.activeElement)>=0)d=n.activeElement;else{var h=o.tabbableGroups[0],S=h&&h.firstTabbableNode;d=S||b("fallbackFocus")}else d===null&&(d=b("fallbackFocus"));if(!d)throw new Error("Your focus-trap needs to have at least one focusable element");return d},g=function(){if(o.containerGroups=o.containers.map(function(d){var h=kn(d,i.tabbableOptions),S=En(d,i.tabbableOptions),A=h.length>0?h[0]:void 0,v=h.length>0?h[h.length-1]:void 0,P=S.find(function(B){return ne(B)}),L=S.slice().reverse().find(function(B){return ne(B)}),V=!!h.find(function(B){return ee(B)>0});return{container:d,tabbableNodes:h,focusableNodes:S,posTabIndexesFound:V,firstTabbableNode:A,lastTabbableNode:v,firstDomTabbableNode:P,lastDomTabbableNode:L,nextTabbableNode:function(J){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,U=h.indexOf(J);return U<0?Y?S.slice(S.indexOf(J)+1).find(function(G){return ne(G)}):S.slice(0,S.indexOf(J)).reverse().find(function(G){return ne(G)}):h[U+(Y?1:-1)]}}}),o.tabbableGroups=o.containerGroups.filter(function(d){return d.tabbableNodes.length>0}),o.tabbableGroups.length<=0&&!b("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(o.containerGroups.find(function(d){return d.posTabIndexesFound})&&o.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},x=function(d){var h=d.activeElement;if(h)return h.shadowRoot&&h.shadowRoot.activeElement!==null?x(h.shadowRoot):h},R=function(d){if(d!==!1&&d!==x(document)){if(!d||!d.focus){R(m());return}d.focus({preventScroll:!!i.preventScroll}),o.mostRecentlyFocusedNode=d,On(d)&&d.select()}},w=function(d){var h=b("setReturnFocus",{params:[d]});return h||(h===!1?!1:d)},k=function(d){var h=d.target,S=d.event,A=d.isBackward,v=A===void 0?!1:A;h=h||he(S),g();var P=null;if(o.tabbableGroups.length>0){var L=p(h,S),V=L>=0?o.containerGroups[L]:void 0;if(L<0)v?P=o.tabbableGroups[o.tabbableGroups.length-1].lastTabbableNode:P=o.tabbableGroups[0].firstTabbableNode;else if(v){var B=o.tabbableGroups.findIndex(function(ie){var le=ie.firstTabbableNode;return h===le});if(B<0&&(V.container===h||je(h,i.tabbableOptions)&&!ne(h,i.tabbableOptions)&&!V.nextTabbableNode(h,!1))&&(B=L),B>=0){var J=B===0?o.tabbableGroups.length-1:B-1,Y=o.tabbableGroups[J];P=ee(h)>=0?Y.lastTabbableNode:Y.lastDomTabbableNode}else de(S)||(P=V.nextTabbableNode(h,!1))}else{var U=o.tabbableGroups.findIndex(function(ie){var le=ie.lastTabbableNode;return h===le});if(U<0&&(V.container===h||je(h,i.tabbableOptions)&&!ne(h,i.tabbableOptions)&&!V.nextTabbableNode(h))&&(U=L),U>=0){var G=U===o.tabbableGroups.length-1?0:U+1,fe=o.tabbableGroups[G];P=ee(h)>=0?fe.firstTabbableNode:fe.firstDomTabbableNode}else de(S)||(P=V.nextTabbableNode(h))}}else P=b("fallbackFocus");return P},C=function(d){var h=he(d);if(!(p(h,d)>=0)){if(ue(i.clickOutsideDeactivates,d)){c.deactivate({returnFocus:i.returnFocusOnDeactivate});return}ue(i.allowOutsideClick,d)||d.preventDefault()}},O=function(d){var h=he(d),S=p(h,d)>=0;if(S||h instanceof Document)S&&(o.mostRecentlyFocusedNode=h);else{d.stopImmediatePropagation();var A,v=!0;if(o.mostRecentlyFocusedNode)if(ee(o.mostRecentlyFocusedNode)>0){var P=p(o.mostRecentlyFocusedNode),L=o.containerGroups[P].tabbableNodes;if(L.length>0){var V=L.findIndex(function(B){return B===o.mostRecentlyFocusedNode});V>=0&&(i.isKeyForward(o.recentNavEvent)?V+1<L.length&&(A=L[V+1],v=!1):V-1>=0&&(A=L[V-1],v=!1))}}else o.containerGroups.some(function(B){return B.tabbableNodes.some(function(J){return ee(J)>0})})||(v=!1);else v=!1;v&&(A=k({target:o.mostRecentlyFocusedNode,isBackward:i.isKeyBackward(o.recentNavEvent)})),R(A||o.mostRecentlyFocusedNode||m())}o.recentNavEvent=void 0},j=function(d){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;o.recentNavEvent=d;var S=k({event:d,isBackward:h});S&&(de(d)&&d.preventDefault(),R(S))},_=function(d){(i.isKeyForward(d)||i.isKeyBackward(d))&&j(d,i.isKeyBackward(d))},N=function(d){Ln(d)&&ue(i.escapeDeactivates,d)!==!1&&(d.preventDefault(),c.deactivate())},y=function(d){var h=he(d);p(h,d)>=0||ue(i.clickOutsideDeactivates,d)||ue(i.allowOutsideClick,d)||(d.preventDefault(),d.stopImmediatePropagation())},f=function(){if(o.active)return Ze.activateTrap(a,c),o.delayInitialFocusTimer=i.delayInitialFocus?Je(function(){R(m())}):R(m()),n.addEventListener("focusin",O,!0),n.addEventListener("mousedown",C,{capture:!0,passive:!1}),n.addEventListener("touchstart",C,{capture:!0,passive:!1}),n.addEventListener("click",y,{capture:!0,passive:!1}),n.addEventListener("keydown",_,{capture:!0,passive:!1}),n.addEventListener("keydown",N),c},M=function(){if(o.active)return n.removeEventListener("focusin",O,!0),n.removeEventListener("mousedown",C,!0),n.removeEventListener("touchstart",C,!0),n.removeEventListener("click",y,!0),n.removeEventListener("keydown",_,!0),n.removeEventListener("keydown",N),c},I=function(d){var h=d.some(function(S){var A=Array.from(S.removedNodes);return A.some(function(v){return v===o.mostRecentlyFocusedNode})});h&&R(m())},T=typeof window<"u"&&"MutationObserver"in window?new MutationObserver(I):void 0,F=function(){T&&(T.disconnect(),o.active&&!o.paused&&o.containers.map(function(d){T.observe(d,{subtree:!0,childList:!0})}))};return c={get active(){return o.active},get paused(){return o.paused},activate:function(d){if(o.active)return this;var h=u(d,"onActivate"),S=u(d,"onPostActivate"),A=u(d,"checkCanFocusTrap");A||g(),o.active=!0,o.paused=!1,o.nodeFocusedBeforeActivation=x(n),h==null||h();var v=function(){A&&g(),f(),F(),S==null||S()};return A?(A(o.containers.concat()).then(v,v),this):(v(),this)},deactivate:function(d){if(!o.active)return this;var h=Ue({onDeactivate:i.onDeactivate,onPostDeactivate:i.onPostDeactivate,checkCanReturnFocus:i.checkCanReturnFocus},d);clearTimeout(o.delayInitialFocusTimer),o.delayInitialFocusTimer=void 0,M(),o.active=!1,o.paused=!1,F(),Ze.deactivateTrap(a,c);var S=u(h,"onDeactivate"),A=u(h,"onPostDeactivate"),v=u(h,"checkCanReturnFocus"),P=u(h,"returnFocus","returnFocusOnDeactivate");S==null||S();var L=function(){Je(function(){P&&R(w(o.nodeFocusedBeforeActivation)),A==null||A()})};return P&&v?(v(w(o.nodeFocusedBeforeActivation)).then(L,L),this):(L(),this)},pause:function(d){return o.active?(o.manuallyPaused=!0,this._setPausedState(!0,d)):this},unpause:function(d){return o.active?(o.manuallyPaused=!1,a[a.length-1]!==this?this:this._setPausedState(!1,d)):this},updateContainerElements:function(d){var h=[].concat(d).filter(Boolean);return o.containers=h.map(function(S){return typeof S=="string"?n.querySelector(S):S}),o.active&&g(),F(),this}},Object.defineProperties(c,{_isManuallyPaused:{value:function(){return o.manuallyPaused}},_setPausedState:{value:function(d,h){if(o.paused===d)return this;if(o.paused=d,d){var S=u(h,"onPause"),A=u(h,"onPostPause");S==null||S(),M(),F(),A==null||A()}else{var v=u(h,"onUnpause"),P=u(h,"onPostUnpause");v==null||v(),g(),f(),F(),P==null||P()}return this}}}),c.updateContainerElements(e),c};function $n({container:t,initialFilters:e,onFiltersChange:r,workScheduleOptions:n,careerAreaOptions:a,resetMap:i,isMobile:o,externalOpenTrigger:c}){const[u,p]=l.useState(!1),[b,m]=l.useState(!1),g=l.useRef(null),x=l.useRef(null),R=l.useRef(null),[w,k]=l.useState((e==null?void 0:e.jobTitle)??""),[C,O]=l.useState((e==null?void 0:e.location)??""),[j,_]=l.useState(e==null?void 0:e.salaryMin),[N,y]=l.useState((e==null?void 0:e.openToPublic)??!1),[f,M]=l.useState((e==null?void 0:e.workSchedule)??"__all__"),[I,T]=l.useState((e==null?void 0:e.careerArea)??"__all__");l.useEffect(()=>{c!==void 0&&c>0&&F()},[c]);const F=()=>{p(!0),requestAnimationFrame(()=>m(!0))},E=()=>{m(!1),setTimeout(()=>{p(!1)},300)},d=()=>{k(""),O(""),_(void 0),y(!1),M("__all__"),T("__all__"),r({}),i()};l.useEffect(()=>{const v={};w&&(v.jobTitle=w),C&&(v.location=C),j!==void 0&&j>0&&(v.salaryMin=j),v.openToPublic=N,f&&f!=="__all__"&&(v.workSchedule=f),I&&I!=="__all__"&&(v.careerArea=I),r(v)},[w,C,j,N,f,I]);const h=l.useMemo(()=>{let v=0;return w&&v++,C&&v++,I&&I!=="__all__"&&v++,N&&v++,j!==void 0&&j>0&&v++,f&&f!=="__all__"&&v++,v},[w,C,I,N,j,f]),S=l.useMemo(()=>{const v=[];w&&v.push(w),C&&v.push(C),I&&I!=="__all__"&&v.push(I),N&&v.push("Open to Public"),j!==void 0&&j>0&&v.push(`$${j.toLocaleString()}+`),f&&f!=="__all__"&&v.push(f);const P=v.slice(0,2),L=v.length-2;return{displayFilters:P,remainingCount:L,totalCount:v.length}},[w,C,I,N,j,f]),A=l.useRef(null);return l.useEffect(()=>(u&&b&&x.current&&requestAnimationFrame(()=>{var v;if(x.current){if(!A.current)try{A.current=Hn(x.current,{escapeDeactivates:!1,clickOutsideDeactivates:!0,returnFocusOnDeactivate:!0,setReturnFocus:R.current||void 0,initialFocus:!1,fallbackFocus:x.current})}catch(P){console.warn("Failed to create focus trap:",P);return}x.current.focus();try{(v=A.current)==null||v.activate()}catch(P){console.warn("Failed to activate focus trap:",P)}}}),()=>{if(A.current){try{A.current.deactivate()}catch(v){console.warn("Failed to deactivate focus trap:",v)}A.current=null}}),[u,b]),l.useEffect(()=>{const v=P=>{P.key==="Escape"&&u&&(P.preventDefault(),P.stopPropagation(),E())};return u&&document.addEventListener("keydown",v,!0),()=>{document.removeEventListener("keydown",v,!0)}},[u]),s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex items-center gap-6 w-full",children:[!o&&s.jsxs(s.Fragment,{children:[s.jsx(He,{value:w,onChange:v=>k(v.target.value),hideLabel:!0}),s.jsx($e,{value:C,onChange:v=>O(v.target.value),hideLabel:!0})]}),s.jsxs(oe,{ref:R,onClick:F,"aria-haspopup":"dialog","aria-controls":"dialog","aria-expanded":u,variant:"outline",size:"lg",className:"justify-between rounded-full w-full flex-1 relative cursor-pointer shadow-md",children:[h>0&&s.jsx("span",{id:"filter-count-badge",className:"absolute -top-1 -right-1 bg-accent text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center border-2 border-white z-10","aria-label":`${h} active filter${h===1?"":"s"}`,children:h}),s.jsxs("div",{className:"flex items-center w-full gap-2 overflow-hidden",children:[s.jsx(hr,{className:"w-8 h-8 flex-shrink-0","aria-hidden":"true"}),s.jsx("div",{className:"flex flex-col text-left flex-1 min-w-0",children:s.jsx("div",{className:"flex items-center min-w-0",children:h===0?s.jsx("span",{className:"font-bold",children:"Filters"}):s.jsxs(s.Fragment,{children:[S.displayFilters[0]&&s.jsx("span",{className:"font-bold truncate",children:S.displayFilters[0]}),S.displayFilters[1]&&s.jsxs("span",{className:"font-normal text-gray-600 truncate",children:[", ",S.displayFilters[1]]}),S.remainingCount>0&&s.jsxs("span",{className:"font-normal text-gray-700 ml-1",children:["+",S.remainingCount," more"]})]})})})]})]})]}),u&&t&&et.createPortal(s.jsx("div",{ref:g,className:K("absolute inset-0 bg-black/50 z-50 pointer-events-auto flex items-start md:items-center justify-center overflow-y-auto p-2","transition-all duration-300 ease-in-out","scrollbar-gutter-stable","hide-scrollbar",b?"opacity-100":"opacity-0"),style:{scrollbarGutter:"stable"},onClick:v=>{v.target===g.current&&E()},children:s.jsxs("div",{ref:x,role:"dialog","aria-modal":"true","aria-labelledby":"dialogTitle","aria-describedby":"dialogDesc",tabIndex:-1,className:K("flex flex-col border-none p-4 rounded-lg shadow-lg bg-white relative max-w-md w-full mx-4 z-51 outline-none","transition-all duration-300 ease-in-out transform",b?"opacity-100 scale-100":"opacity-0 scale-95"),style:{margin:0},children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h2",{id:"dialogTitle",className:"text-xl font-semibold font-serif",children:"Filter Options"}),s.jsx("p",{id:"dialogDesc",className:"text-sm md:text-base text-gray-500 mt-2",children:"Adjust the filters below to refine your job search. Results update automatically as you make changes."})]}),s.jsxs("div",{className:"flex flex-col gap-6",children:[o&&s.jsxs(s.Fragment,{children:[s.jsx(He,{value:w,onChange:v=>k(v.target.value)}),s.jsx("hr",{}),s.jsx($e,{value:C,onChange:v=>O(v.target.value)}),s.jsx("hr",{})]}),s.jsx(ln,{value:N,onChange:y}),s.jsx("hr",{}),s.jsx(cn,{value:I,onChange:T,options:a,container:x.current}),s.jsx("hr",{}),s.jsx(un,{value:f,onChange:M,options:n,container:x.current}),s.jsx("hr",{}),s.jsx(dn,{value:j,onChange:_})]}),s.jsxs("div",{className:"flex flex-row justify-between gap-2 mt-8",children:[s.jsx(oe,{type:"button",variant:"outline",className:"w-auto",onClick:d,children:"Reset filters"}),s.jsx(oe,{type:"button",variant:"default",className:"w-auto",onClick:E,children:"Done"})]})]})}),t)]})}const Kn=320,Wn=400,Un={longitude:-98.5795,latitude:39.8283,zoom:3.5,transitionDuration:Q};function Zn({initialFilters:t,mapboxToken:e,mapboxStyle:r,geojsonUrl:n,container:a}){const i=l.useRef(null),[o,c]=l.useState(null),[u,p]=l.useState(t||{}),[b,m]=l.useState(Un),[g,x]=l.useState(null),[R,w]=l.useState(0),[k,C]=l.useState(!0),[O,j]=l.useState(!0),[_,N]=l.useState(null),[y,f]=l.useState({left:0,top:0,right:0,bottom:0}),[M,I]=l.useState(()=>typeof window<"u"?window.innerWidth<768:!1),[T,F]=l.useState(null),[E,d]=l.useState(!1),[h,S]=l.useState(0);l.useEffect(()=>{const D=()=>{const W=window.innerWidth<768;I(W),f(W?{left:0,top:0,right:0,bottom:Kn}:{left:Wn,top:0,right:0,bottom:0})},z=()=>{H.current&&clearTimeout(H.current),H.current=setTimeout(D,150)},H={current:null};return D(),window.addEventListener("resize",z),()=>{window.removeEventListener("resize",z),H.current&&clearTimeout(H.current)}},[]),l.useEffect(()=>{let D=!0;const z=new AbortController;return(async()=>{try{j(!0),N(null);const $=await fetch(n||"",{signal:z.signal,headers:{Accept:"application/geo+json, application/json"}});if(!$.ok)throw new Error(`Failed to fetch: ${$.status} ${$.statusText}`);const pe=await $.json();D&&(c(pe),j(!1))}catch(W){if(D&&!z.signal.aborted){const $=W instanceof Error?W.message:"Failed to load job data";N($),j(!1)}}})(),()=>{D=!1,z.abort()}},[n]);const A=l.useMemo(()=>(o==null?void 0:o.features)||[],[o]),v=l.useMemo(()=>A.length===0?[]:A.filter(D=>{var z,H,W;if(D.geometry.coordinates[0]===0&&D.geometry.coordinates[1]===0||u.jobTitle&&!D.properties.title.toLowerCase().includes(u.jobTitle.toLowerCase())||u.location&&!D.properties.locationName.toLowerCase().includes(u.location.toLowerCase()))return!1;if(u.salaryMin){let $=Number(D.properties.salaryMin),pe=D.properties.salaryInterval,De=$;if(pe==="PH"&&(De=$*2080),De<u.salaryMin)return!1}if(u.openToPublic&&!((z=D.properties.hiringPaths)!=null&&z.includes("public")))return!1;if(u.workSchedule){const $=(H=D.properties.positionScheduleCodes)==null?void 0:H[0];if(($?ke[$]:void 0)!==u.workSchedule)return!1}return!(u.careerArea&&!((W=D.properties.jobCategoryCodes)!=null&&W.some($=>Oe[u.careerArea].includes($))))}),[A,u]),P=l.useMemo(()=>{let D=v;if(T&&(D=v.filter(z=>T.contains(z.geometry.coordinates))),g&&!D.find(H=>H.properties.id===g.properties.id)){const H=v.find(W=>W.properties.id===g.properties.id);H&&(D=[H,...D])}return console.log("jobs",D.length),D},[v,T,g]),L=l.useMemo(()=>Object.values(ke),[]),V=l.useMemo(()=>Object.keys(Oe),[]),B=l.useCallback(()=>{d(!0)},[]),J=l.useCallback(()=>{d(!1)},[]),Y=l.useCallback(D=>{E||F(D)},[E]),U=()=>{var D;p({}),F(null),x(null),w(z=>z+1),B(),(D=i.current)==null||D.reset()},G=D=>{var z;x(D),B(),(z=i.current)==null||z.flyTo({center:[D.geometry.coordinates[0],D.geometry.coordinates[1]],zoom:me})},fe=()=>{var D;x(null),B(),(D=i.current)==null||D.zoomOut(2)},ie=()=>{S(D=>D+1)},le=()=>{J(),setTimeout(()=>{var z;const D=(z=i.current)==null?void 0:z.getBounds();D&&F(D)},0)};return _&&!O?s.jsx("div",{className:"w-full h-screen flex items-center justify-center bg-gray-50",children:s.jsxs("div",{className:"max-w-md p-8 bg-white rounded-lg shadow-lg text-center",children:[s.jsx("div",{className:"text-red-500 mb-4",children:s.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Unable to Load Jobs"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"There was an error loading job data. Please check your connection and try again."})]})}):s.jsxs("div",{className:"w-full h-full overflow-hidden flex flex-col min-w-[340px] relative",children:[s.jsx("div",{className:"filterbar w-full flex-shrink-0 py-2 md:py-4 relative shadow-lg z-20",children:s.jsxs("div",{className:"grid-container flex flex-col items-center",children:[s.jsx($n,{container:a,initialFilters:u,onFiltersChange:p,resetMap:U,workScheduleOptions:L,careerAreaOptions:V,isMobile:M,externalOpenTrigger:h}),s.jsxs("div",{className:"text-sm md:text-base font-bold mt-4 mx-2 self-start","aria-live":"polite","aria-label":"Search results count",role:"status",children:["Showing ",P.length," result",P.length===1?"":"s",v.length!==P.length&&s.jsxs("span",{className:"text-gray-500 ml-1",children:["(",v.length," total)"]})]})]})}),s.jsxs("div",{className:"relative flex-1 w-full h-0 min-h-0 overflow-hidden z-10",children:[s.jsx("div",{className:"absolute z-10 md:top-0 md:left-0 md:bottom-0 md:w-[400px] md:h-full w-full h-[320px] bottom-0 left-0 pointer-events-auto",children:s.jsx(pr,{jobs:P,onJobClick:G,selectedJob:g,resetScrollSignal:R,onExpandSearch:fe,onOpenFilters:ie})}),s.jsxs("div",{className:"absolute inset-0 z-0",children:[s.jsx(tr,{jobs:v,onBoundsChange:Y,viewState:b,onMove:D=>m(D.viewState),selectedJob:g,onJobClick:G,padding:y,onMapLoad:()=>C(!1),ref:i,onMoveEnd:le,mapboxToken:e||"",mapboxStyle:r||"mapbox://styles/mapbox/streets-v11"}),(k||O)&&s.jsxs("div",{className:"absolute inset-0 flex items-center justify-center bg-white bg-opacity-70 z-50",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-brand-blue border-solid"}),s.jsx("span",{className:"ml-4 text-lg font-semibold text-brand-blue",children:O?"Loading job dataâ€¦":"Loading mapâ€¦"})]})]})]})]})}const _e=new CSSStyleSheet;_e.replaceSync(Xt.replace(/:root/ug,":host"));const Lt=new CSSStyleSheet;for(const t of _e.cssRules)t instanceof CSSPropertyRule&&Lt.insertRule(t.cssText);document.adoptedStyleSheets.push(Lt);class Jn extends HTMLElement{constructor(){super();Ne(this,"root",null);Ne(this,"container",null);this.attachShadow({mode:"open",delegatesFocus:!0})}static get observedAttributes(){return["initial-filters","mapbox-token","mapbox-style","geojson-url"]}getProps(){return{initialFilters:this.getAttribute("initial-filters")?JSON.parse(this.getAttribute("initial-filters")):void 0,mapboxToken:this.getAttribute("mapbox-token")||void 0,mapboxStyle:this.getAttribute("mapbox-style")||void 0,geojsonUrl:this.getAttribute("geojson-url")||void 0,container:this.container}}async connectedCallback(){this.render()}disconnectedCallback(){var r;(r=this.root)==null||r.unmount(),this.root=null}attributeChangedCallback(r,n,a){n!==a&&this.root&&this.render()}render(){this.shadowRoot&&(this.shadowRoot.adoptedStyleSheets=[_e],this.container=document.createElement("div"),this.container.className="mount-point",this.shadowRoot.appendChild(this.container),this.root=Qt.createRoot(this.container),this.root.render(s.jsx(l.StrictMode,{children:s.jsx(Zn,{...this.getProps()})})))}}customElements.define("jobs-map",Jn);
